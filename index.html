<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Viajes - Coche Eléctrico</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Control de Viajes</h1>
            <p id="current-date">Registro para conductor de coche eléctrico</p>
        </header>
        
        <div class="tab-container">
            <div class="tab active" onclick="switchTab('register')">Nuevo Viaje</div>
            <div class="tab" onclick="switchTab('summary')">Resumen</div>
            <div class="tab" onclick="switchTab('stats')">Estadísticas</div>
            <div class="tab" onclick="switchTab('history')">Historial</div>
        </div>
        
        <div id="register-tab" class="tab-content active">
            <div class="card">
                <h2>Registrar Nuevo Viaje</h2>
                <form id="trip-form">
                    <div class="form-group">
                        <label for="country">País:</label>
                        <select id="country" required>
                            <option value="">Selecciona un país</option>
                            <option value="España">España</option>
                            <option value="Francia">Francia</option>
                            <option value="Portugal">Portugal</option>
                            <option value="Alemania">Alemania</option>
                            <option value="Italia">Italia</option>
                            <option value="Reino Unido">Reino Unido</option>
                            <option value="Andorra">Andorra</option>
                            <option value="Austria">Austria</option>
                            <option value="Bélgica">Bélgica</option>
                            <option value="Bulgaria">Bulgaria</option>
                            <option value="Croacia">Croacia</option>
                            <option value="Dinamarca">Dinamarca</option>
                            <option value="Finlandia">Finlandia</option>
                            <option value="Grecia">Grecia</option>
                            <option value="Hungría">Hungría</option>
                            <option value="Irlanda">Irlanda</option>
                            <option value="Luxemburgo">Luxemburgo</option>
                            <option value="Mónaco">Mónaco</option>
                            <option value="Noruega">Noruega</option>
                            <option value="Países Bajos">Países Bajos</option>
                            <option value="Polonia">Polonia</option>
                            <option value="República Checa">República Checa</option>
                            <option value="Rumanía">Rumanía</option>
                            <option value="Suecia">Suecia</option>
                            <option value="Suiza">Suiza</option>
                            <option value="Turquía">Turquía</option>
                            <option value="Ucrania">Ucrania</option>
                            <option value="Rusia">Rusia</option>
                            <option value="Estados Unidos">Estados Unidos</option>
                            <option value="Canadá">Canadá</option>
                            <option value="México">México</option>
                            <option value="Brasil">Brasil</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Chile">Chile</option>
                            <option value="China">China</option>
                            <option value="Japón">Japón</option>
                            <option value="Australia">Australia</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="passengers">Número de pasajeros (máx. 5):</label>
                        <input type="number" id="passengers" min="1" max="5" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amount">Importe del viaje (€):</label>
                        <input type="number" id="amount" value="70" readonly>
                        <small>Precio fijo: 70€</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Método de pago:</label>
                        <div class="payment-btns">
                            <div class="payment-btn" id="cash-btn">Efectivo</div>
                            <div class="payment-btn" id="card-btn">Tarjeta</div>
                        </div>
                        <input type="hidden" id="payment-method" required>
                    </div>
                    
                    <div class="form-group" id="cash-tip-section">
                        <label for="cash-tip">Propina en efectivo (€):</label>
                        <input type="number" id="cash-tip" step="0.01" min="0" value="0">
                    </div>
                    
                    <div class="form-group hidden" id="card-tip-section">
                        <label>Propina con tarjeta:</label>
                        <div class="tip-options">
                            <div class="tip-btn">0 €</div>
                            <div class="tip-btn">7 €</div>
                            <div class="tip-btn">10.5 €</div>
                            <div class="tip-btn">14 €</div>
                        </div>
                        <input type="hidden" id="card-tip" value="0">
                    </div>
                    
                    <button type="submit" class="btn">Guardar Viaje</button>
                </form>
            </div>
            
            <div class="card">
                <h2>Viajes de Hoy</h2>
                <div class="trip-list" id="trip-list">
                    <!-- Los viajes se mostrarán aquí -->
                </div>
            </div>
        </div>
        
        <div id="summary-tab" class="tab-content">
            <div class="card">
                <h2>Resumen del Día</h2>
                <div class="summary-item">
                    <span>Total viajes:</span>
                    <span id="total-trips">0</span>
                </div>
                
                <h3 style="margin-top: 20px;">Ingresos con Tarjeta</h3>
                <div class="summary-item">
                    <span id="card-rides-label">Total viajes (70€ x 0 viajes):</span>
                    <span id="total-card-rides">0.00 €</span>
                </div>
                <div class="summary-item">
                    <span>Total propinas con tarjeta:</span>
                    <span id="total-card-tips">0.00 €</span>
                </div>
                
                <h3 style="margin-top: 20px;">Ingresos en Efectivo</h3>
                <div class="summary-item">
                    <span id="cash-rides-label">Total viajes (70€ x 0 viajes):</span>
                    <span id="total-cash-rides">0.00 €</span>
                </div>
                <div class="summary-item">
                    <span>Total propinas en efectivo:</span>
                    <span id="total-cash-tips">0.00 €</span>
                </div>
                
                <h3 style="margin-top: 20px;">Efectivo a entregar</h3>
                <div class="calculation">
                    <div id="cash-delivery-calculation">0.00€ - 0.00€ = 0.00€</div>
                    <div><strong id="cash-to-deliver">0.00 € a entregar en sobre</strong></div>
                </div>
                
                <h3 style="margin-top: 20px;">Resumen General</h3>
                <div class="summary-item">
                    <span>Total ingresos por viajes:</span>
                    <span id="total-rides">0.00 €</span>
                </div>
                <div class="summary-item">
                    <span>Total propinas:</span>
                    <span id="total-tips">0.00 €</span>
                </div>
                <div class="summary-item summary-total">
                    <span>Ganancia total del día:</span>
                    <span id="total-amount">0.00 €</span>
                </div>
            </div>
            
            <button class="btn" onclick="exportData()" style="background: var(--accent);">Exportar Datos del Mes</button>
            <button class="btn" onclick="resetDay()" style="background: var(--danger);">Reiniciar Día</button>
        </div>
        
        <div id="stats-tab" class="tab-content">
            <div class="card">
                <h2>Estadísticas del Mes</h2>
                <div class="form-group">
                    <label for="stats-month-select">Seleccionar mes:</label>
                    <select id="stats-month-select">
                        <!-- Opciones se generarán con JavaScript -->
                    </select>
                </div>
                
                <h3>Resumen Mensual</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="stats-total-trips">0</div>
                        <div class="stat-label">Total Viajes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-total-passengers">0</div>
                        <div class="stat-label">Total Pasajeros</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-cash-trips">0</div>
                        <div class="stat-label">Viajes Efectivo</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-card-trips">0</div>
                        <div class="stat-label">Viajes Tarjeta</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Distribución por País</h3>
                <div class="country-list" id="country-stats">
                    <!-- Estadísticas por país se mostrarán aquí -->
                </div>
            </div>
        </div>
        
        <div id="history-tab" class="tab-content">
            <div class="card">
                <h2>Historial Mensual</h2>
                <div class="form-group">
                    <label for="month-select">Seleccionar mes:</label>
                    <select id="month-select">
                        <!-- Opciones se generarán con JavaScript -->
                    </select>
                </div>
                
                <div id="monthly-summary">
                    <!-- Resumen mensual se mostrará aquí -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
